//INPUTS
//A (Pin 14)
//Serial Data Input. The data on this pin is shifted into the
//8–bit serial shift register.
//CONTROL INPUTS
//Shift Clock (Pin 11)
//Shift Register Clock Input. A low– to–high transition on
//this input causes the data at the Serial Input pin to be shifted
//into the 8–bit shift register.
//Reset (Pin 10)
//Active–low, Asynchronous, Shift Register Reset Input. A
//low on this pin resets the shift register portion of this device
//only. The 8–bit latch is not affected.
//Latch Clock (Pin 12)
//Storage Latch Clock Input. A low–to–high transition on
//this input latches the shift register data.
//Output Enable (Pin 13)
//Active–low Output Enable. A low on this input allows the
//data from the latches to be presented at the outputs. A high
//on this input forces the outputs (QA–QH) into the
//high–impedance state. The serial output is not affected by
//this control unit.

//OUTPUTS
//QA – QH (Pins 15, 1, 2, 3, 4, 5, 6, 7)
//Noninverted, 3–state, latch outputs.
//SQH (Pin 9)
//Noninverted, Serial Data Output. This is the output of the
//eighth stage of the 8–bit shift register. This output does not
//have three–state capability.
/*
1       VCC
2       0
3       DATA
4       ~OE
5       ST
6       SH
7       7'
GND
*/

//符号　　	引脚　　	描述　　
//Q0--Q7　　	第15脚，第1-7脚	8位并行数据输出，　　
//GND　　	第8脚　　	地　　
//Q7’　　	第9脚　　	串行数据输出　　
//MR　　	第10脚　　	主复位（低电平）　　
//SHCP　　	第11脚　　	移位寄存器时钟输入　　
//STCP　　	第12脚　　	存储寄存器时钟输入　　
//OE　　	第13脚　　	输出有效（低电平）　　
//DS　　	第14脚　　	串行数据输入　　
//VCC　　	第16脚　　	电源　　

#define PORT_DAT_ON  PORTB |=  _BV(4)
#define PORT_DAT_OFF PORTB &= ~_BV(4)

#define PORT_CLK_ON  PORTB |=  _BV(2)
#define PORT_CLK_OFF PORTB &= ~_BV(2)

#define PORT_STR_ON  PORTB |=  _BV(5)
#define PORT_STR_OFF PORTB &= ~_BV(5)

#define PORT_OE_ON   PORTB |=  _BV(3)
#define PORT_OE_OFF  PORTB &= ~_BV(3)

//33,127,10,10000,

//bytea,byteb
PROGMEM  prog_uint8_t AnalogTable[] = {
0x00,0x00,0x00,0x50,0x08,0x50,0x00,0x30,0x00,0x02,0x00,0x70,0x00,0x42,0x02,0x70,0x00,0x12,0x08,0x12,0x00,0x52,0x08,0x52,0x02,0x52,0x00,0x32,0x20,0x12,0x00,0x72,
0x08,0x72,0x02,0x72,0x22,0x52,0x28,0x32,0x20,0x72,0x28,0x72,0x22,0x72,0x2A,0x72,0x48,0x30,0x40,0x70,0x40,0x42,0x42,0x70,0x40,0x22,0x48,0x12,0x40,0x52,0x48,0x52,
0x42,0x52,0x4A,0x52,0x48,0x32,0x42,0x32,0x60,0x52,0x42,0x72,0x00,0x04,0x08,0x04,0x08,0x08,0x00,0x44,0x08,0x48,0x00,0x14,0x08,0x14,0x00,0x54,0x08,0x54,0x02,0x54,
0x00,0x06,0x00,0x74,0x00,0x46,0x08,0x46,0x00,0x26,0x00,0x1A,0x00,0x56,0x08,0x56,0x02,0x66,0x00,0x36,0x08,0x36,0x00,0x76,0x08,0x76,0x02,0x76,0x0A,0x76,0x04,0x10,
0x0C,0x10,0x04,0x50,0x0C,0x50,0x06,0x50,0x04,0x02,0x0C,0x02,0x04,0x42,0x06,0x70,0x06,0x42,0x04,0x12,0x0C,0x12,0x04,0x52,0x0C,0x52,0x04,0x32,0x0C,0x32,0x04,0x72,
0x0C,0x72,0x06,0x72,0x0E,0x72,0x00,0x0C,0x08,0x0C,0x00,0x4C,0x08,0x4C,0x00,0x1C,0x00,0x80,0x00,0x5C,0x00,0xC0,0x02,0x5C,0x00,0x0E,0x08,0x0E,0x00,0x4E,0x00,0xD0,
0x01,0x30,0x00,0x1E,0x08,0x1E,0x00,0x5E,0x08,0x5E,0x00,0x3E,0x00,0x92,0x00,0x7E,0x00,0xD2,0x02,0x7E,0x00,0xB2,0x06,0x44,0x00,0xF2,0x08,0xF2,0x02,0xF2,0x0A,0xF2,
0x04,0x34,0x0C,0x06,0x04,0x74,0x06,0x0A,0x06,0x74,0x04,0x16,0x0C,0x16,0x04,0x56,0x0C,0x56,0x04,0x3A,0x0C,0x3A,0x04,0x76,0x0C,0x76,0x06,0x76,0x0E,0x76,0x24,0x36,
0x2C,0x36,0x24,0x76,0x2C,0x76,0x26,0x76,0x00,0x84,0x08,0x84,0x00,0xC4,0x08,0xC4,0x01,0x28,0x00,0x94,0x03,0x24,0x00,0xD4,0x08,0xD4,0x00,0xB4,0x00,0x86,0x00,0xF4,
0x00,0xC6,0x02,0xF4,0x00,0x96,0x08,0x96,0x00,0xD6,0x08,0xD6,0x01,0x36,0x00,0xB6,0x01,0x76,0x08,0xF6,0x02,0xF6,0x03,0x7A,0x04,0x3C,0x04,0x0E,0x04,0x7C,0x04,0x4E,
0x06,0x7C,0x04,0x1E,0x04,0x82,0x04,0x5E,0x04,0xC2,0x06,0x5E,0x04,0x3E,0x0C,0x3E,0x04,0x7E,0x0C,0x7E,0x05,0x32,0x0C,0xB2,0x07,0x32,0x06,0xB2,0x0C,0xF2,0x06,0xF2,
0x01,0x0C,0x00,0x8C,0x01,0x4C,0x08,0xCC,0x03,0x4C,0x00,0x9C,0x08,0x9C,0x00,0xDC,0x08,0xDC,0x00,0xBC,0x00,0x8E,0x00,0xFC,0x00,0xCE,0x02,0xFC,0x00,0x9E,0x01,0x82,
0x00,0xDE,0x01,0xC2,0x02,0xDE,0x00,0xBE,0x09,0x3E,0x00,0xFE,0x08,0xFE,0x02,0xFE,0x01,0xB2,0x04,0x94,0x01,0xF2,0x04,0xD4,0x03,0xF2,0x04,0xB4,0x04,0x86,0x04,0xF8,
0x04,0xC6,0x06,0xF4,0x04,0x96,0x0C,0x96,0x04,0xD6,0x0C,0xD6,0x06,0xD6,0x04,0xB6,0x0C,0xB6,0x04,0xF6,0x0C,0xF6,0x06,0xF6,0x0E,0xF6,0x24,0xB6,0x2C,0xB6,0x24,0xFA,
0x2C,0xF6,0x2E,0xF6,0x01,0x84,0x09,0x84,0x01,0xC4,0x09,0xC4,0x01,0x94,0x09,0x94,0x01,0xD4,0x09,0xD4,0x01,0xB4,0x01,0x86,0x01,0xF4,0x01,0xC6,0x03,0xF8,0x01,0x9A,
0x09,0x96,0x01,0xD6,0x09,0xD6,0x03,0xD6,0x01,0xB6,0x04,0x9C,0x01,0xF6,0x04,0xDC,0x03,0xF6,0x05,0x3C,0x04,0x8E,0x0C,0x8E,0x04,0xCE,0x06,0xFC,0x05,0x1E,0x04,0x9E,
0x05,0x5E,0x04,0xDE,0x06,0xDE,0x04,0xBE,0x0C,0xBE,0x04,0xFE,0x0C,0xFE,0x06,0xFE,0x05,0xB2,0x0D,0xB2,0x05,0xF2,0x0D,0xF2,0x07,0xF2,0x0F,0xF2,0x01,0x8C,0x09,0x8C,
0x01,0xCC,0x09,0xCC,0x01,0x9C,0x09,0x9C,0x01,0xDC,0x09,0xDC,0x03,0xDC,0x01,0x8E,0x09,0x8E,0x01,0xCE,0x09,0xCE,0x03,0xCE,0x01,0x9E,0x09,0x9E,0x01,0xDE,0x09,0xDE,
0x01,0xBE,0x09,0xBE,0x01,0xFE,0x09,0xFE,0x03,0xFE,0x0B,0xFE,0x07,0xC4,0x05,0x94,0x05,0xD4,0x05,0xD8,0x07,0xE8,0x05,0x86,0x0D,0x8A,0x05,0xCA,0x07,0x86,0x07,0xF4,
0x05,0x96,0x0D,0x96,0x05,0xD6,0x0D,0xD6,0x05,0xB6,0x0D,0xB6,0x05,0xF6,0x0D,0xF6,0x07,0xF6,0x0F,0xF6,0x14,0x46,0x16,0x74,0x14,0x16,0x1C,0x16,0x14,0x56,0x1C,0x56,
0x14,0x36,0x1C,0x36,0x14,0x7A,0x14,0x76,0x16,0x7A,0x16,0x76,0x34,0x36,0x3C,0x36,0x34,0x76,0x3C,0x76,0x36,0x76,0x11,0x04,0x18,0x88,0x4F,0xF6,0x05,0x8C,0x18,0xC4,
0x05,0xCC,0x18,0x94,0x10,0xD4,0x05,0x9C,0x0D,0x9C,0x05,0xDC,0x0D,0xDC,0x05,0xBC,0x05,0x8E,0x05,0xFC,0x05,0xCE,0x07,0xFC,0x05,0x9E,0x0D,0x9E,0x05,0xDE,0x0D,0xDE,
0x07,0xDE,0x05,0xBE,0x0D,0xBE,0x05,0xFE,0x0D,0xFE,0x07,0xFE,0x0F,0xFE,0x1C,0x4E,0x14,0x2E,0x14,0x82,0x14,0x6E,0x14,0x5E,0x1C,0xC2,0x14,0x3E,0x14,0x92,0x14,0x7E,
0x14,0xD2,0x16,0x7E,0x14,0xB2,0x1C,0xB2,0x14,0xF2,0x1C,0xF2,0x16,0xF2,0x1E,0xF2,0x10,0x8C,0x18,0x8C,0x10,0xCC,0x18,0xCC,0x10,0x9C,0x11,0x80,0x10,0xDC,0x11,0xC0,
0x12,0xDC,0x10,0x8E,0x18,0x8E,0x10,0xCE,0x18,0xCE,0x12,0xCE,0x10,0x9E,0x18,0x9E,0x10,0xDE,0x18,0xDE,0x10,0xBE,0x11,0x92,0x10,0xFE,0x11,0xD2,0x12,0xFE,0x11,0xB2,
0x14,0x98,0x11,0xF2,0x14,0xD4,0x13,0xF2,0x16,0xD8,0x14,0x86,0x1C,0x86,0x14,0xC6,0x1C,0xC6,0x16,0xF4,0x14,0x96,0x1C,0x96,0x14,0xD6,0x1C,0xD6,0x14,0xB6,0x1C,0xB6,
0x14,0xF6,0x1C,0xF6,0x16,0xF6,0x1E,0xF6,0x34,0xB6,0x3C,0xB6,0x34,0xF6,0x3C,0xF6,0x00,0x01,0x11,0x84,0x00,0x41,0x08,0x41,0x00,0x11,0x08,0x11,0x00,0x51,0x08,0x51,
0x00,0x31,0x00,0x03,0x02,0x31,0x00,0x43,0x08,0x43,0x00,0x23,0x00,0x13,0x00,0x53,0x08,0x53,0x02,0x53,0x00,0x33,0x08,0x33,0x00,0x73,0x08,0x73,0x02,0x73,0x0A,0x73,
0x13,0xF6,0x14,0xBC,0x14,0x8E,0x14,0xFC,0x14,0xCE,0x16,0xFC,0x14,0x9E,0x15,0x82,0x14,0xDE,0x15,0xC2,0x16,0xDE,0x14,0xBE,0x1C,0xBE,0x14,0xFE,0x1C,0xFE,0x16,0xFE,
0x15,0xB2,0x1D,0xB2,0x15,0xF2,0x1F,0xB2,0x00,0x05,0x08,0x05,0x00,0x45,0x08,0x45,0x00,0x15,0x08,0x15,0x00,0x55,0x00,0x59,0x02,0x65,0x00,0x0B,0x08,0x07,0x00,0x47,
0x02,0x07,0x02,0x47,0x00,0x17,0x08,0x17,0x00,0x57,0x08,0x57,0x00,0x37,0x08,0x37,0x00,0x77,0x08,0x77,0x02,0x77,0x0A,0x77,0x06,0x41,0x04,0x11,0x0C,0x11,0x04,0x51,
0x0C,0x51,0x04,0x31,0x04,0x03,0x04,0x71,0x06,0x03,0x06,0x71,0x04,0x13,0x0C,0x13,0x04,0x53,0x0C,0x53,0x04,0x33,0x0E,0x53,0x15,0xB6,0x04,0x73,0x15,0xF6,0x1D,0xF6,
0x0E,0x73,0x00,0x0D,0x08,0x0D,0x00,0x4D,0x0A,0x0D,0x00,0x1D,0x00,0x81,0x00,0x5D,0x00,0xC1,0x00,0x3D,0x00,0x0F,0x02,0x3D,0x00,0x4F,0x08,0x4F,0x00,0x2F,0x00,0x83,
0x00,0x5F,0x00,0xC3,0x02,0x5F,0x00,0x3F,0x08,0x3F,0x00,0x7F,0x08,0x7F,0x02,0x7F,0x00,0xB3,0x04,0x15,0x00,0xF3,0x04,0x55,0x02,0xF3,0x06,0x55,0x04,0x07,0x0C,0x07,
0x04,0x47,0x0C,0x47,0x06,0x47,0x0C,0x27,0x06,0x27,0x0E,0x2B,0x06,0x6B,0x04,0x37,0x0C,0x37,0x04,0x77,0x0C,0x77,0x06,0x77,0x0E,0x77,0x1F,0xFE,0x2C,0x37,0x24,0x77,
0x2C,0x77,0x26,0x77,0x00,0x85,0x08,0x85,0x00,0xC5,0x08,0xC5,0x00,0xA9,0x00,0x95,0x02,0xA5,0x00,0xD5,0x08,0xD5,0x00,0xB5,0x00,0x87,0x00,0xCB,0x00,0xC7,0x02,0xF5,
0x00,0x97,0x08,0x97,0x00,0xD7,0x04,0x4D,0x00,0xB7,0x08,0xBB,0x00,0xF7,0x08,0xF7,0x02,0xF7,0x0A,0xF7,0x04,0x3D,0x04,0x0F,0x04,0x7D,0x04,0x4F,0x06,0x7D,0x04,0x1F,
0x04,0x83,0x04,0x5F,0x04,0xC3,0x06,0x5F,0x04,0x93,0x0C,0x3F,0x04,0x7F,0x0C,0xD3,0x06,0x7F,0x04,0xB3,0x0C,0xB3,0x04,0xF3,0x0C,0xF3,0x06,0xF3,0x0E,0xF3,0x00,0x8D,
0x08,0x8D,0x00,0xCD,0x08,0xCD,0x00,0x9D,0x01,0x81,0x00,0xDD,0x01,0xC1,0x02,0xDD,0x00,0x8F,0x08,0x8F,0x00,0xCF,0x08,0xCF,0x00,0xAF,0x01,0x1F,0x08,0x9F,0x00,0xDF,
0x02,0xEF,0x00,0xBF,0x01,0x93,0x00,0xFF,0x01,0xD3,0x02,0xFF,0x01,0xB3,0x04,0x95,0x01,0xF3,0x04,0xD5,0x03,0xF3,0x06,0xD9,0x04,0x87,0x0C,0x87,0x04,0xCB,0x0C,0xC7,
0x06,0xC7,0x04,0x97,0x0C,0x97,0x04,0xD7,0x0C,0xD7,0x04,0xB7,0x0C,0xB7,0x04,0xF7,0x0C,0xF7,0x06,0xF7,0x0E,0xF7,0x24,0xB7,0x2C,0xB7,0x24,0xF7,0x2C,0xF7,0x26,0xF7,
0x01,0x85,0x09,0x85,0x01,0xC5,0x09,0xC5,0x03,0xC5,0x01,0x95,0x09,0x95,0x01,0xD5,0x09,0xD5,0x01,0xB5,0x01,0x87,0x01,0xF5,0x01,0xC7,0x03,0xF5,0x01,0x97,0x04,0x8D,
0x01,0xD7,0x04,0xCD,0x01,0xB7,0x0B,0xD7,0x01,0xF7,0x09,0xFB,0x03,0xF7,0x0B,0xF7,0x04,0xBD,0x04,0x8F,0x04,0xFD,0x04,0xCF,0x06,0xFD,0x04,0x9F,0x05,0x83,0x04,0xDF,
0x05,0xC3,0x06,0xDF,0x04,0xBF,0x07,0x3F,0x04,0xFF,0x0C,0xFF,0x06,0xFF,0x05,0xB3,0x0D,0xB3,0x05,0xF3,0x0D,0xF3,0x07,0xF3,0x0F,0xF3,0x01,0x8D,0x09,0x8D,0x01,0xCD,
0x09,0xCD,0x01,0x9D,0x09,0x9D,0x01,0xDD,0x09,0xDD,0x01,0xBD,0x01,0x8F,0x09,0x8F,0x01,0xCF,0x09,0xCF,0x01,0xAF,0x0B,0xCF,0x01,0xDF,0x0B,0xAF,0x03,0xEF,0x01,0xBF,
0x09,0xBF,0x01,0xFF,0x09,0xFF,0x03,0xFF,0x0B,0xFF,0x05,0x99,0x0D,0x95,0x05,0xD9,0x0D,0xD5,0x07,0xE9,0x05,0x87,0x0D,0x87,0x05,0xC7,0x0D,0xC7,0x07,0xC7,0x05,0x97,
0x0D,0x97,0x05,0xD7,0x0D,0xD7,0x05,0xB7,0x0D,0xB7,0x05,0xF7,0x0D,0xF7,0x07,0xF7,0x0F,0xF7,0x14,0x47,0x16,0x75,0x14,0x17,0x1C,0x17,0x14,0x57,0x1C,0x57,0x14,0x37,
0x1C,0x37,0x14,0x77,0x1C,0x77,0x16,0x7B,0x16,0x77,0x1E,0x77,0x3C,0x37,0x34,0x77,0x3C,0x77,0x36,0x77,0x3E,0x77,0x10,0x89,0x10,0xC9,0x10,0xC5,0x0D,0x8D,0x05,0xCD,
0x0D,0xCD,0x07,0xCD,0x05,0x9D,0x0D,0x9D,0x05,0xDD,0x0D,0xDD,0x05,0xBD,0x05,0x8F,0x05,0xFD,0x05,0xCF,0x07,0xFD,0x05,0x9F,0x0D,0x9F,0x05,0xDF,0x0D,0xDF,0x07,0xDF,
0x0D,0xBF,0x12,0xF7,0x07,0xBF,0x0D,0xFF,0x0F,0xFF,0x14,0x4F,0x1C,0x4F,0x14,0x2F,0x14,0x1F,0x14,0x5F,0x14,0xC3,0x1C,0xC3,0x14,0x3F,0x14,0x93,0x14,0x7F,0x14,0xD3,
0x16,0x7F,0x14,0xB3,0x1C,0xB3,0x14,0xF3,0x1C,0xF3,0x16,0xF3,0x1E,0xF3,0x10,0x8D,0x18,0x8D,0x10,0xCD,0x18,0xCD,0x11,0x1D,0x10,0x9D,0x11,0x5D,0x10,0xDD,0x12,0xED,
0x10,0xBD,0x11,0x91,0x10,0xFD,0x11,0xE1,0x12,0xFD,0x10,0x9F,0x11,0x83,0x10,0xDF,0x11,0xC3,0x10,0xBF,0x11,0x93,0x10,0xFF,0x11,0xD3,0x14,0xC9,0x13,0xD3,0x16,0xC5,
0x11,0xF3,0x19,0xF3,0x14,0xD5,0x1B,0xF3,0x14,0xB5,0x14,0x87,0x14,0xF5,0x14,0xC7,0x16,0xF5,0x14,0x97,0x1C,0x97,0x14,0xD7,0x1C,0xD7,0x16,0xD7,0x14,0xB7,0x1C,0xB7,
0x14,0xF7,0x1C,0xF7,0x16,0xF7,0x1E,0xF7,0x34,0xB7,0x3C,0xB7,0x34,0xF7,0x3C,0xFB,0x36,0xF7,0x11,0x85,0x19,0x85,0x11,0xC5,0x19,0xC5,0x11,0x95,0x19,0x95,0x11,0xD5,
0x19,0xD5,0x13,0xD9,0x11,0x87,0x19,0x87,0x11,0xC7,0x19,0xC7,0x13,0xC7,0x11,0x97,0x14,0x8D,0x11,0xD7,0x13,0xEB,0x11,0xB7,0x14,0x9D,0x11,0xF7,0x15,0x5D,0x13,0xF7,
0x16,0xED,0x14,0x8F,0x1C,0x8F,0x14,0xCF,0x1C,0xCF,0x16,0xCF,0x14,0x9F,0x17,0x2F,0x14,0xEF,0x17,0x5F,0x14,0xBF,0x15,0x93,0x14,0xFF,0x15,0xD3,0x16,0xFF,0x15,0xB3,
0x1D,0xB3,0x15,0xF3,0x1D,0xF3,0x17,0xF3,0x1F,0xF3,0x11,0x8D,0x19,0x8D,0x11,0xCD,0x19,0xCD,0x13,0xCD,0x19,0xAD,0x11,0xED,0x11,0xDD,0x19,0xDD,0x11,0xBD,0x11,0x8F,
0x11,0xFD,0x11,0xCF,0x13,0xFD,0x11,0x9F,0x19,0x9F,0x11,0xDF,0x19,0xDF,0x13,0xDF,0x19,0xBF,0x13,0xBF,0x15,0x85,0x15,0xC9,0x13,0xFF,0x1B,0xFF,0x15,0x95,0x1D,0x95,
0x15,0xD5,0x1D,0xD5,0x17,0xD5,0x15,0x87,0x17,0xB9,0x15,0xC7,0x1D,0xC7,0x15,0x9B,0x1F,0xC7,0x17,0xAB,0x15,0xD7,0x1D,0xD7,0x15,0xB7,0x1D,0xB7,0x15,0xF7,0x1D,0xF7,
0x17,0xF7,0x1F,0xF7,0x35,0xB7,0x3D,0xB7,0x35,0xF7,0x3D,0xF7,0x37,0xF7,0x3F,0xF7,0x5D,0x87,0x55,0xC7,0x5D,0xC7,0x57,0xC7,0x55,0x9B,0x5D,0x97,0x55,0xD7,0x5D,0xD7,
0x55,0xBB,0x5D,0xB7,0x55,0xF7,0x5D,0xF7,0x57,0xF7,0x5F,0xF7,0x15,0x8D,0x1D,0x8D,0x15,0xCD,0x1D,0xCD,0x17,0xCD,0x15,0x9D,0x1D,0x9D,0x15,0xDD,0x1D,0xDD,0x15,0xBD,
0x15,0x8F,0x15,0xFD,0x17,0x8F,0x17,0xFD,0x15,0x9F,0x1D,0x9F,0x15,0xDF,0x1D,0xDF,0x15,0xBF,0x1D,0xBF,0x35,0x9F,0x1D,0xFF,0x17,0xFF,0x3D,0xDF,0x1F,0xFF,0x3D,0xBF,
0x35,0xFF,0x3D,0xFF,0x5D,0xDD,0x3F,0xFF,0x55,0x8F,0x55,0xFD,0x55,0xCF,0x57,0xFD,0x55,0x9F,0x5D,0x9F,0x55,0xDF,0x5D,0xDF,0x57,0xDF,0x5D,0xBF,0x55,0xFF,0x57,0xBF,
0x75,0xDF,0x57,0xFF,0x77,0xDF,0x7F,0xDF,0x75,0xFF,0x7D,0xFF,0xD5,0xBF,0x77,0xFF,0xD5,0xFF,0xDD,0xFF,0xD7,0xFF,0xDF,0xFF,0xF5,0xBF,0xFD,0xBF,0xF5,0xFF,0xF7,0xFF
};

void setup()
{
  Serial.begin(115200);

  DDRB |= _BV(2);
  DDRB |= _BV(3);
  DDRB |= _BV(4);
  DDRB |= _BV(5);
  PORT_OE_OFF;
  //for(uint16_t ByteA=0;ByteA<256;ByteA++)
  //{
  //  for(uint16_t ByteB=0;ByteB<256;ByteB++)
  //  {
  //    //bit0 first
  //    SendByte((uint8_t)ByteA);
  //    SendByte((uint8_t)ByteB);
  //    PORT_STR_ON;
  //    PORT_STR_OFF;
  //    Serial.print("ByteA:");
  //    Serial.print(ByteA);
  //    Serial.print(",ByteB:");
  //    Serial.print(ByteB);
  //    int val = analogRead(A4);
  //    Serial.print(",val:");
  //    Serial.print(val);
  //    Serial.println();
  //  }
  //}
  for(uint16_t volt=0;volt<1024;volt++)
  {
    //bit0 first
    SendByte(pgm_read_byte_near(AddressTable+volt));
    SendByte(pgm_read_byte_near(AddressTable+volt+1));
    PORT_STR_ON;
    PORT_STR_OFF;
    Serial.print("ByteA:");
    Serial.print(ByteA);
    Serial.print(",ByteB:");
    Serial.print(ByteB);
    int val = analogRead(A4);
    Serial.print(",val:");
    Serial.print(val);
    Serial.println();
  }
  
}

void loop()
{

}


void SendByte(uint8_t data){
  for(uint8_t i=0;i<8;i++)
  {
    if(data&1)
    {
      PORT_DAT_ON;
    }
    else
    {
      PORT_DAT_OFF;
    }
    data>>=1;
    PORT_CLK_ON; //shift clock up
    PORT_CLK_OFF; //shift clock down
  }
}
